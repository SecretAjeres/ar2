<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <title>Учебник физики</title>
        <script src="libs/aframe.min.js"></script>
        <script src="libs/mindar-image-aframe.prod.js"></script>
        <script>
            class Target {
                constructor(element) {
                    this.content = document.getElementById(`${element.getAttribute('id')}-content`);
                    this.contentFrame = element.children[0];
                    element.addEventListener("targetFound", () => this.playContent());
                    element.addEventListener("targetLost", () => this.pauseContent());
                    this.content.addEventListener('loadeddata', () => this.contentFrame.setAttribute("visible", true));
                }

                playContent() {
                    this.content.play();
                }

                pauseContent() {
                    this.content.pause();
                }
            }

            document.addEventListener("DOMContentLoaded", function() {
                const targetElements = document.querySelectorAll(".target");
                targetElements.forEach(targetElement => {
                    new Target(targetElement);
                });
                
            });
        </script>
    </head>
    <body>
        <a-scene mindar-image="imageTargetSrc: targets.mind;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
            <a-assets>
                <video id="target0-content" preload="none" loop="true" src="content/0.mp4" webkit-playsinline playsinline></video>
                <video id="target1-content" preload="none" loop="true" src="content/1.mp4" webkit-playsinline playsinline></video>
                <video id="target2-content" preload="none" loop="true" src="content/2.mp4" webkit-playsinline playsinline></video>
                <video id="target3-content" preload="none" loop="true" src="content/3.mp4" webkit-playsinline playsinline></video>
                <video id="target4-content" preload="none" loop="true" src="content/4.mp4" webkit-playsinline playsinline></video>
                <video id="target5-content" preload="none" loop="true" src="content/5.mp4" webkit-playsinline playsinline></video>
                <video id="target6-content" preload="none" loop="true" src="content/6.mp4" webkit-playsinline playsinline></video>
                <video id="target7-content" preload="none" loop="true" src="content/7.mp4" webkit-playsinline playsinline></video>
                <video id="target8-content" preload="none" loop="true" src="content/8.mp4" webkit-playsinline playsinline></video>
                <video id="target9-content" preload="none" loop="true" src="content/9.mp4" webkit-playsinline playsinline></video>
                <video id="target10-content" preload="none" loop="true" src="content/10.mp4" webkit-playsinline playsinline></video>
                <video id="target11-content" preload="none" loop="true" src="content/11.mp4" webkit-playsinline playsinline></video>
                <video id="target12-content" preload="none" loop="true" src="content/12.mp4" webkit-playsinline playsinline></video>
                <video id="target13-content" preload="none" loop="true" src="content/13.mp4" webkit-playsinline playsinline></video>
                <video id="target14-content" preload="none" loop="true" src="content/14.mp4" webkit-playsinline playsinline></video>
                <video id="target15-content" preload="none" loop="true" src="content/15.mp4" webkit-playsinline playsinline></video>
                <video id="target16-content" preload="none" loop="true" src="content/16.mp4" webkit-playsinline playsinline></video>
                <video id="target17-content" preload="none" loop="true" src="content/17.mp4" webkit-playsinline playsinline></video>
                <video id="target18-content" preload="none" loop="true" src="content/18.mp4" webkit-playsinline playsinline></video>
                <video id="target19-content" preload="none" loop="true" src="content/19.mp4" webkit-playsinline playsinline></video>
                <video id="target20-content" preload="none" loop="true" src="content/20.mp4" webkit-playsinline playsinline></video>
                <video id="target21-content" preload="none" loop="true" src="content/21.mp4" webkit-playsinline playsinline></video>
                <video id="target22-content" preload="none" loop="true" src="content/22.mp4" webkit-playsinline playsinline></video>
                <video id="target23-content" preload="none" loop="true" src="content/23.mp4" webkit-playsinline playsinline></video>
                <video id="target24-content" preload="none" loop="true" src="content/24.mp4" webkit-playsinline playsinline></video>
            </a-assets>
            <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
            <a-entity class="target" id="target0" mindar-image-target="targetIndex: 0">
                <a-video visible="false" src="#target0-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target1" mindar-image-target="targetIndex: 1">
                <a-video visible="false" src="#target1-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target2" mindar-image-target="targetIndex: 2">
                <a-video visible="false" src="#target2-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target3" mindar-image-target="targetIndex: 3">
                <a-video visible="false" src="#target3-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target4" mindar-image-target="targetIndex: 4">
                <a-video visible="false" src="#target4-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target5" mindar-image-target="targetIndex: 5">
                <a-video visible="false" src="#target5-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target6" mindar-image-target="targetIndex: 6">
                <a-video visible="false" src="#target6-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target7" mindar-image-target="targetIndex: 7">
                <a-video visible="false" src="#target7-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target8" mindar-image-target="targetIndex: 8">
                <a-video visible="false" src="#target8-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target9" mindar-image-target="targetIndex: 9">
                <a-video visible="false" src="#target9-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target10" mindar-image-target="targetIndex: 10">
                <a-video visible="false" src="#target10-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target11" mindar-image-target="targetIndex: 11">
                <a-video visible="false" src="#target11-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target12" mindar-image-target="targetIndex: 12">
                <a-video visible="false" src="#target12-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target13" mindar-image-target="targetIndex: 13">
                <a-video visible="false" src="#target13-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target14" mindar-image-target="targetIndex: 14">
                <a-video visible="false" src="#target14-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target15" mindar-image-target="targetIndex: 15">
                <a-video visible="false" src="#target15-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target16" mindar-image-target="targetIndex: 16">
                <a-video visible="false" src="#target16-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target17" mindar-image-target="targetIndex: 17">
                <a-video visible="false" src="#target17-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target18" mindar-image-target="targetIndex: 18">
                <a-video visible="false" src="#target18-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target19" mindar-image-target="targetIndex: 19">
                <a-video visible="false" src="#target19-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target20" mindar-image-target="targetIndex: 20">
                <a-video visible="false" src="#target20-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target21" mindar-image-target="targetIndex: 21">
                <a-video visible="false" src="#target21-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target22" mindar-image-target="targetIndex: 22">
                <a-video visible="false" src="#target22-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target23" mindar-image-target="targetIndex: 23">
                <a-video visible="false" src="#target23-content"></a-video>
            </a-entity>
            <a-entity class="target" id="target24" mindar-image-target="targetIndex: 24">
                <a-video visible="false" src="#target24-content"></a-video>
            </a-entity>
            
        </a-scene>
    </body>
</html>